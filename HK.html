<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>한국경제 신문 지면보기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Firebase SDK (순서 중요: app → firestore → auth) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <!-- PhotoSwipe CSS -->
    <link rel="stylesheet" href="https://unpkg.com/photoswipe@5.4.3/dist/photoswipe.css">
    
    <!-- 사용자 정의 CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div id="auth-section" class="card p-4 mb-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h4 id="auth-title" class="mb-0">로그인</h4>
                <button id="logout-btn" class="btn btn-sm btn-outline-danger" style="display:none;">로그아웃</button>
            </div>
            <input type="email" id="email" class="form-control mb-2" placeholder="이메일">
            <input type="password" id="password" class="form-control mb-2" placeholder="비밀번호 (6자 이상)">
            <button id="auth-btn" class="btn btn-primary me-2">로그인</button>
            <button id="toggle-auth" class="btn btn-outline-secondary">회원가입으로 전환</button>
            <p id="auth-message" class="text-danger mt-2"></p>
            <p id="current-user" class="mt-3" style="display:none;">
                로그인됨: <span id="user-email"></span>
            </p>
        </div>
   <div id="main-content" style="display:none;">
            <!-- 컨트롤 패널 -->
            <div class="controls card p-4">
                <div class="row g-3 align-items-end">
                    <div class="col-md-4">
                        <label class="form-label">날짜</label>
                        <input type="date" class="form-control" id="date-picker">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">신문 타입</label>
                        <select class="form-select" id="type-select">
                            <option value="A" Selected>A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">페이지</label>
                        <input type="number" class="form-control" id="page-input" min="1" value="1">
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-primary w-100" id="go-btn">이동</button>
                    </div>
                </div>
                <div class="mt-3 text-center">
                    <button class="btn btn-outline-secondary me-2" id="prev-btn">◀ 이전</button>
                    <button class="btn btn-outline-secondary" id="next-btn">다음 ▶</button>
                </div>
            </div>
            
            <!-- 신문 뷰어 -->
            <div id="viewer">
                <p id="page-info" class="text-muted"></p>
                
                <!-- 한쪽 보기 (항상 고정) -->
                <div class="image-click-area pswp-gallery" id="single-gallery">
                    <a href="" id="single-link" data-pswp-width="1200" data-pswp-height="1800">
                        <img id="newspaper-img" src="" alt="신문 페이지" loading="lazy" class="newspaper-img img-fluid">
                    </a>
                    <div class="click-left"></div>
                    <div class="click-right"></div>
                </div>
                
                <p id="error-msg">해당 페이지 이미지가 존재하지 않습니다.</p>
            </div>

            <!-- 메모 영역 -->
            <div id="memo-section">
                <h4>메모 <small>(현재 페이지: <span id="current-page-info"></span>)</small></h4>
                <textarea id="memo-input" class="form-control mb-3" rows="3" placeholder="신문을 읽고 느낀 점을 적어주세요..."></textarea>
                <button id="save-memo" class="btn btn-success">메모 저장</button>
                <div id="memo-list" class="mt-4"></div>
            </div>
        </div>
    </div>

    <!-- PhotoSwipe 루트 요소 -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="pswp__bg"></div>
        <div class="pswp__scroll-wrap">
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom"></button>
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                            <div class="pswp__preloader__cut">
                                <div class="pswp__preloader__donut"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous"></button>
                <button class="pswp__button pswp__button--arrow--right" title="Next"></button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>

       <!-- 외부 스크립트 연결 -->
    <script src="script2.js" defer></script>
</body>

</html>




